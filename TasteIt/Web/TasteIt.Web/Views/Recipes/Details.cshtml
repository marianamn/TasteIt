@model TasteIt.Web.Models.Recipe.RecipeViewModel
@{
    ViewBag.Title = "Details";
}

<div class="jumbotron">
    <div>
        <h2 class="detail-title">@Html.DisplayFor(@model => model.Title)</h2>

    </div>

    <div class="container">
        <div class="row">
            <div class="col-md-4">
                <p>
                    <span class="glyphicon glyphicon-heart"></span> @Html.DisplayFor(@model => model.CountLikes)
                    <span class="glyphicon glyphicon-comment"></span> @Html.DisplayFor(@model => model.CountLikes)
                </p>
                <p><i>Recipe autor: @Html.DisplayFor(@model => model.Author)</i></p>
                <img class="recipe-image" src="@Html.DisplayFor(@model =>model.RecipeImage)" />
            </div>

            <div class="recipe-details col-md-12 detail-text">
                <div>
                    <p><strong>Preparation time: </strong></p>
                    <p>@Html.DisplayFor(@model => model.CookingTime)</p>
                </div>

                <p><strong>Ingredients:</strong></p>
                @if (@Model.Ingredients == null)
                {
                    return;
                }
                else
                {
                    foreach (var item in @Model.Ingredients)
                    {
                        <div>
                            @item.Quantity
                            @Html.ActionLink(item.Name, "/Details" + item.Url, "Ingredients")
                        </div>
                    }
                }
            </div>
        </div>
        <br />

        <div class="detail-text">
            <div>
                <p><strong>Preparation:</strong></p>
                @Html.DisplayFor(@model => model.Description)
            </div>
        </div>
    </div>
    <br />

    <h3><strong>Comments:</strong></h3>
    <div>
        <div class="container">
            @if (@Model.Comments == null)
            {
                return;
            }
            else
            {
                foreach (var comment in @Model.Comments)
                {
                    <div class="row">
                        <div class="col-md-2">
                            @if (comment.PostedByImage == null)
                            {
                                <img class="comment-image" src="http://www.adsitsolutions.com/images/icons/grey/home-user-icon.png" />
                            }
                            else
                            {
                                <img class="comment-image" src="@comment.PostedByImage" />
                            }
                        </div>
                        <div class="col-md-12">
                            <h4 class="logo">@comment.PostedBy</h4>
                            <div class="comment-content">@comment.Content</div>
                        </div>
                    </div>
                }
            }
        </div>
    </div>


    <div>
        <h2 class="relatedArticle-link">
            @Html.ActionLink("More recipes", "/Index" + @Html.DisplayFor(@model => model.Url), "Recipes")
        </h2>
    </div>
</div>

